{"version":3,"sources":["js/index.js"],"names":["generateId","Math","round","random","toString","taskItems","document","querySelector","taskEditorArea","taskEditor","addTaskBtn","cancelTaskBtn","classList","add","dbTasks","JSON","parse","localStorage","getItem","renderTaskItem","task","taskItem","createElement","innerHTML","id","description","append","addTask","event","preventDefault","taskAreaValue","value","push","init","deleteTask","targetId","dataset","filter","textContent","forEach","setItem","stringify","addEventListener","remove","style","height","scrollHeight","target","closest","Promise","resolve","setTimeout","then"],"mappings":";AAAA,aAEA,IAAMA,EAAa,WACTC,OAAAA,KAAKC,MAAuB,IAAhBD,KAAKE,UAAiBC,SAAS,KAIlDC,EAAYC,SAASC,cAAc,eACnCC,EAAiBF,SAASC,cAAc,sBACxCE,EAAaH,SAASC,cAAc,gBACpCG,EAAaJ,SAASC,cAAc,yBACpCI,EAAgBL,SAASC,cAAc,4BAE1CG,EAAWE,UAAUC,IAAI,kCAEzB,IAAIC,EAAUC,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,GAErDC,EAAiB,SAAAC,GACdC,IAAAA,EAAWf,SAASgB,cAAc,MACxCD,EAAST,UAAUC,IAAI,oBAEvBQ,EAASE,UACuCH,sDAAAA,OAAAA,EAAKI,GAGfJ,qHAAAA,OAAAA,EAAKK,YACFL,oDAAAA,OAAAA,EAAKI,GAL9C,iFAUAnB,EAAUqB,OAAOL,IAGdM,EAAU,SAAAC,GACbA,EAAMC,iBACAC,IAAAA,EAAgBtB,EAAeuB,MAEjCD,GAAAA,EAAe,CACVV,IAAAA,EAAO,CACVI,GAAIxB,IACJyB,YAAaK,GAGhBhB,EAAQkB,KAAKZ,GACba,IAEAzB,EAAeuB,MAAQ,GACvBrB,EAAWE,UAAUC,IAAI,oCAIzBqB,EAAa,SAAAd,GACVe,IAAAA,EAAWf,EAAKgB,QAAQZ,GAC9BV,EAAUA,EAAQuB,OAAO,SAAAjB,GAAQA,OAAAA,EAAKI,KAAOW,IAC7CF,KAGGA,EAAO,WACX5B,EAAUiC,YAAc,GACxBxB,EAAQyB,QAAQpB,GAEhBF,aAAauB,QAAQ,QAASzB,KAAK0B,UAAU3B,KAG/CL,EAAWiC,iBAAiB,SAAUf,GAEtChB,EAAc+B,iBAAiB,QAAS,WACrClC,EAAeuB,MAAQ,KAG1BvB,EAAekC,iBAAiB,QAAS,SAAUd,GAC5C,KAAKG,MACNrB,EAAWE,UAAU+B,OAAO,kCACxBjC,EAAWE,UAAUC,IAAI,kCAG3B+B,KAAAA,MAAMC,OAAS,OACfD,KAAAA,MAAMC,OAAc,KAAKC,aAAe,OAIhDzC,EAAUqC,iBAAiB,QAAS,SAACd,GAC5BmB,IAAAA,EAASnB,EAAMmB,OAEjBA,GAAAA,EAAOC,QAAQ,sBAAuB,CACjC5B,IAAAA,EAAO2B,EAAOC,QAAQ,sBAC5B5B,EAAKR,UAAUC,IAAI,UAEH,IAAIoC,QAAQ,SAACC,GAC1BC,WAAW,WACR/B,EAAKR,UAAU+B,OAAO,UAEtBQ,WAAW,WACR/B,EAAKR,UAAUC,IAAI,oBAAqB,qBACxC,KAEHqC,KACA,OAGEE,KAAK,WAAMlB,OAAAA,EAAWd,UAE1B,GAAI2B,EAAOC,QAAQ,eAAgB,CACjC5B,IAAAA,EAAO2B,EAAOC,QAAQ,eAC5Bd,EAAWd,MAIjBa","file":"js.de438cf4.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst generateId = () => {\r\n   return Math.round((Math.random() * 1e8)).toString(16);\r\n};\r\n\r\nconst\r\n   taskItems = document.querySelector('.task-items'),\r\n   taskEditorArea = document.querySelector('.task-editor__area'),\r\n   taskEditor = document.querySelector('.task-editor'),\r\n   addTaskBtn = document.querySelector('.task-editor__add-btn'),\r\n   cancelTaskBtn = document.querySelector('.task-editor__cancel-btn');\r\n\r\naddTaskBtn.classList.add('task-editor__add-btn--disabled');\r\n\r\nlet dbTasks = JSON.parse(localStorage.getItem('tasks')) || [];\r\n\r\nconst renderTaskItem = task => {\r\n   const taskItem = document.createElement('li');\r\n   taskItem.classList.add('task-items__item');\r\n\r\n   taskItem.innerHTML = `\r\n      <button class=\"task-complete-btn\" data-id=\"${task.id}\">\r\n         <img src=\"assets/images/check.svg\" alt=\"\">\r\n      </button>\r\n      <p class=\"task-items__item-text\">${task.description}</p>\r\n      <button class=\"task-trash\" data-id=\"${task.id}\">\r\n         <img src=\"assets/images/trash.svg\" alt=\"\">\r\n      </button>\r\n   `;\r\n\r\n   taskItems.append(taskItem);\r\n};\r\n\r\nconst addTask = event => {\r\n   event.preventDefault();\r\n   const taskAreaValue = taskEditorArea.value;\r\n\r\n   if (taskAreaValue) {\r\n      const task = {\r\n         id: generateId(),\r\n         description: taskAreaValue\r\n      }\r\n\r\n      dbTasks.push(task);\r\n      init();\r\n\r\n      taskEditorArea.value = '';\r\n      addTaskBtn.classList.add('task-editor__add-btn--disabled');\r\n   }\r\n};\r\n\r\nconst deleteTask = task => {\r\n   const targetId = task.dataset.id;\r\n   dbTasks = dbTasks.filter(task => task.id !== targetId);\r\n   init();\r\n};\r\n\r\nconst init = () => {\r\n  taskItems.textContent = '';\r\n  dbTasks.forEach(renderTaskItem);\r\n\r\n  localStorage.setItem('tasks', JSON.stringify(dbTasks));\r\n};\r\n\r\ntaskEditor.addEventListener('submit', addTask);\r\n\r\ncancelTaskBtn.addEventListener('click', () => {\r\n   taskEditorArea.value = '';\r\n});\r\n\r\ntaskEditorArea.addEventListener('input', function (event) {\r\n   if (this.value) {\r\n      addTaskBtn.classList.remove('task-editor__add-btn--disabled');\r\n   } else addTaskBtn.classList.add('task-editor__add-btn--disabled');\r\n\r\n   // auto resize area\r\n   this.style.height = 'auto';\r\n   this.style.height = '' + this.scrollHeight + 'px';\r\n});\r\n\r\n// Удаление задачи\r\ntaskItems.addEventListener('click', (event) => {\r\n   const target = event.target;\r\n\r\n   if (target.closest('.task-complete-btn')) {\r\n      const task = target.closest('.task-complete-btn');\r\n      task.classList.add('active');\r\n\r\n      const promise = new Promise((resolve) => {\r\n         setTimeout(() => {\r\n            task.classList.remove('active');\r\n\r\n            setTimeout(() => {\r\n               task.classList.add('animate__animated', 'animate__fadeOut');\r\n            }, 200);\r\n\r\n            resolve();\r\n         }, 350);\r\n      });\r\n\r\n      promise.then(() => deleteTask(task));\r\n\r\n   } else if (target.closest('.task-trash')) {\r\n      const task = target.closest('.task-trash');\r\n      deleteTask(task);\r\n   }\r\n});\r\n\r\ninit();"]}